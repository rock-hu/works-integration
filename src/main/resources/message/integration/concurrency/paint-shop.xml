<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns:beans="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/integration"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration.xsd">

	<channel id="input" />
	<channel id="paint" />
	<channel id="output" />

	<gateway id="supplyInput" service-interface="org.works.concurrency.pipeline.SupplyInput"
		default-request-channel="input" />

	<service-activator id="assemblyLine" input-channel="input"
		output-channel="paint">
		<beans:bean class="org.works.concurrency.pipeline.AssemblyLine" />
	</service-activator>
	<service-activator id="paintShop" input-channel="paint"
		output-channel="output">
		<beans:bean class="org.works.concurrency.pipeline.PaintShop" />
	</service-activator>
	<service-activator id="exitCounter" input-channel="output"
		ref="counter" />
	<beans:bean id="counter" class="org.works.concurrency.pipeline.Counter" />
</beans:beans>